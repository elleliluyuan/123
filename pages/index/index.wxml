<!--pages/index/index.wxml-->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">å®Œç¾ğŸ’©è®°</text>
  </view>

  <!-- å® ç‰©åˆ‡æ¢æ ‡ç­¾ -->
  <view class="pet-tabs">
    <scroll-view class="pet-tabs-scroll" scroll-x="true" show-scrollbar="false">
      <view class="pet-tabs-container">
        <view 
          class="pet-tab {{currentPetId === 'pet1' ? 'active' : ''}}"
          catchtap="selectPet"
          data-pet-id="pet1"
        >
          <text class="pet-tab-name">è…¿è…¿</text>
          <view class="pet-tab-underline" wx:if="{{currentPetId === 'pet1'}}"></view>
        </view>
        <view 
          class="pet-tab {{currentPetId === 'pet2' ? 'active' : ''}}"
          catchtap="selectPet"
          data-pet-id="pet2"
        >
          <text class="pet-tab-name">å¤§åŒ…</text>
          <view class="pet-tab-underline" wx:if="{{currentPetId === 'pet2'}}"></view>
        </view>
        <view class="add-pet-tab" catchtap="addPet">
          <text class="add-pet-icon">+</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- å® ç‰©ä¿¡æ¯å¡ç‰‡ -->
  <view class="pet-info-card">
    <view class="pet-info-content">
      <view class="pet-avatar-section">
        <view class="pet-avatar-large">
          <text class="pet-emoji">{{currentPet.emoji}}</text>
        </view>
      </view>
      <view class="pet-details">
        <view class="pet-basic-info">
          <view class="info-item">
            <text class="info-label">å¹´é¾„</text>
            <text class="info-value">{{currentPet.age}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">æ€§åˆ«</text>
            <text class="info-value">{{currentPet.gender}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">ä½“é‡</text>
            <text class="info-value">{{currentPet.weight}}</text>
          </view>
        </view>
        <view class="pet-cute-phrase">
          <text class="phrase-text">{{currentPet.phrase}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- é¦–é¡µå†…å®¹ -->
  <view class="home-content">
    <!-- æ—¥å†å¡ç‰‡ -->
    <view class="calendar-card">
      <view class="calendar-header">
        <text class="calendar-title">ğŸ“… ä¾¿ä¾¿æ—¥å†</text>
        <text class="current-month">{{currentMonth}}</text>
      </view>
      <view class="calendar-grid">
        <view 
          class="calendar-day {{item.isToday ? 'today' : ''}} {{item.hasRecord ? 'has-record' : ''}} {{item.isAbnormal ? 'abnormal' : ''}}"
          wx:for="{{calendarDays}}" 
          wx:key="date"
          bindtap="viewDayRecord"
          data-date="{{item.date}}"
        >
          <text class="day-number">{{item.day}}</text>
          <text class="poop-icon" wx:if="{{item.poopIcon}}">{{item.poopIcon}}</text>
        </view>
      </view>
    </view>

    <!-- å‘¨æ€»ç»“å¡ç‰‡ -->
    <view class="weekly-summary">
      <view class="summary-header">
        <text class="summary-title">ğŸ“Š æœ¬å‘¨æ€»ç»“</text>
      </view>
      <text class="summary-text">{{weeklySummary}}</text>
    </view>
  </view>

  <!-- åº•éƒ¨ä¸‰é¢‘é“å…¥å£ -->
  <view class="bottom-channels">
    <!-- å·¦é¢‘é“ï¼šé¦–é¡µ -->
    <view class="channel-entry active" catchtap="switchChannel" data-channel="home">
      <view class="channel-icon">ğŸ </view>
      <text class="channel-text">é¦–é¡µ</text>
    </view>
    
    <!-- ä¸­é¢‘é“ï¼šè®°å½• -->
    <view class="channel-entry" catchtap="switchChannel" data-channel="record">
      <view class="channel-icon">ğŸ“</view>
      <text class="channel-text">è®°å½•</text>
    </view>
    
    <!-- å³é¢‘é“ï¼šAI -->
    <view class="channel-entry" catchtap="switchChannel" data-channel="ai">
      <view class="channel-icon">ğŸ¤–</view>
      <text class="channel-text">é—®AI</text>
    </view>
  </view>
</view>